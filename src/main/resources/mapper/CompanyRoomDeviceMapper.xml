<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.technologygarden.dao.CompanyRoomDeviceMapper">
  <resultMap id="BaseResultMap" type="com.technologygarden.entity.CompanyRoomDevice">
    <id column="crd_id" jdbcType="INTEGER" property="crdId" />
    <result column="crd_company_id" jdbcType="INTEGER" property="crdCompanyId" />
    <result column="crd_room_id" jdbcType="INTEGER" property="crdRoomId" />
    <result column="crd_device_id" jdbcType="INTEGER" property="crdDeviceId" />
    <result column="crd_number" jdbcType="INTEGER" property="crdNumber" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    delete from technology.company_room_device
    where crd_id = #{crdId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.technologygarden.entity.CompanyRoomDevice">
    insert into technology.company_room_device (crd_company_id, crd_room_id,
      crd_device_id, crd_number)
    values (#{crdCompanyId,jdbcType=INTEGER}, #{crdRoomId,jdbcType=INTEGER},
      #{crdDeviceId,jdbcType=INTEGER}, #{crdNumber,jdbcType=INTEGER})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.technologygarden.entity.CompanyRoomDevice">
    update technology.company_room_device
    set crd_company_id = #{crdCompanyId,jdbcType=INTEGER},
      crd_room_id = #{crdRoomId,jdbcType=INTEGER},
      crd_device_id = #{crdDeviceId,jdbcType=INTEGER},
      crd_number = #{crdNumber,jdbcType=INTEGER}
    where crd_id = #{crdId,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select crd_id, crd_company_id, crd_room_id, crd_device_id, crd_number
    from technology.company_room_device
    where crd_id = #{crdId,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    select crd_id, crd_company_id, crd_room_id, crd_device_id, crd_number
    from technology.company_room_device
  </select>

  <select id="selectByCompanyDeviceRoom" resultMap="BaseResultMap">
    select *
    from technology.company_room_device
    where
    crd_company_id = #{companyId,jdbcType=INTEGER}
    and crd_room_id = #{roomId,jdbcType=INTEGER}
    and crd_device_id = #{deviceId,jdbcType=INTEGER}
  </select>

  <update id="updateDynamic">
    update technology.company_room_device
    <set>
      <if test="crdCompanyId != null">
        crd_company_id = #{crdCompanyId,jdbcType=INTEGER},
      </if>
      <if test="crdRoomId != null">
        crd_room_id = #{crdRoomId,jdbcType=INTEGER},
      </if>
      <if test="crdDeviceId != null">
        crd_device_id = #{crdDeviceId,jdbcType=INTEGER},
      </if>
      <if test="crdNumber != null">
        crd_number = #{crdNumber,jdbcType=INTEGER},
      </if>
    </set>
    where crd_id = #{crdId,jdbcType=INTEGER}
  </update>

  <update id="updateNumber">
    update technology.company_room_device
    set crd_number = #{number,jdbcType=INTEGER}
    where crd_id = #{crdId,jdbcType=INTEGER}
  </update>

  <select id="selectWithInfoByPage" resultMap="AssetCountWithInfo">

  </select>
  <resultMap id="AssetCountWithInfo" type="com.technologygarden.entity.CompanyRoomDevice">
    <id column="crd_id" jdbcType="INTEGER" property="crdId" />
    <result column="crd_company_id" jdbcType="INTEGER" property="crdCompanyId" />
    <result column="crd_room_id" jdbcType="INTEGER" property="crdRoomId" />
    <result column="crd_device_id" jdbcType="INTEGER" property="crdDeviceId" />
    <result column="crd_number" jdbcType="INTEGER" property="crdNumber" />
  </resultMap>
</mapper>